<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HCMUT SSO ‚Äî README</title>

  <style>
    :root{
      --bg:#f6fbff;
      --card:#ffffff;
      --muted:#6b7280;
      --accent:#0b5ed7;
      --accent-2:#064e9c;
      --glass: rgba(255,255,255,0.7);
      --code-bg:#0f1724;
      --mono: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg, #e9f2ff 0%, var(--bg) 100%);
      color:#0f1724;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
    }

    header{
      padding:28px 20px;
      display:flex;
      align-items:center;
      gap:18px;
      border-bottom:1px solid rgba(15,23,36,0.06);
      background: linear-gradient(90deg, rgba(11,94,215,0.06), rgba(6,78,156,0.02));
    }
    .logo{
      width:56px; height:56px;
      background:linear-gradient(135deg,var(--accent),var(--accent-2));
      border-radius:12px;
      display:grid; place-items:center;
      color:white; font-weight:700;
      box-shadow:0 6px 18px rgba(11,94,215,0.12);
      font-family: 'Segoe UI', Roboto, Arial;
    }
    .title{
      font-size:20px;
      font-weight:700;
      letter-spacing:0.2px;
    }
    .subtitle{
      color:var(--muted);
      font-size:13px;
      margin-top:4px;
    }

    main{
      max-width:1100px;
      margin:28px auto;
      padding:18px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:20px;
    }

    .card{
      background:var(--card);
      border-radius:12px;
      padding:20px;
      box-shadow: 0 8px 30px rgba(16,24,40,0.06);
    }

    h2{margin:0 0 8px 0; font-size:18px}
    p.lead{color:var(--muted); margin-top:6px}

    .features{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;
    }
    .feat{
      background:linear-gradient(180deg,#ffffff, var(--glass));
      border:1px solid rgba(11,94,215,0.06);
      padding:12px 14px;
      border-radius:10px;
      min-width:200px;
      box-shadow: 0 6px 18px rgba(11,94,215,0.04);
      font-size:14px;
    }

    .section{
      margin-top:18px;
    }

    pre.code {
      background: linear-gradient(90deg,#071025,#0c1b33);
      color:#f8fafc;
      padding:14px;
      border-radius:8px;
      overflow:auto;
      font-family: var(--mono);
      font-size:13px;
      line-height:1.45;
      margin:12px 0;
      border:1px solid rgba(255,255,255,0.03);
    }

    .structure ul{padding-left:18px; margin:8px 0}
    .kbd{display:inline-block; padding:6px 9px; border-radius:6px; background:#eef6ff; color:var(--accent-2); font-weight:600; font-size:13px}

    footer{
      margin-top:20px; text-align:center; color:var(--muted); font-size:13px;
      padding:16px 0;
    }

    /* Responsive */
    @media (max-width:980px){
      .grid{grid-template-columns:1fr; }
      header{padding:18px}
    }
  </style>
</head>
<body>

<header>
  <div class="logo">SSO</div>
  <div>
    <div class="title">SSO Simulation Project ‚Äî HCMUT</div>
    <div class="subtitle">M√¥ ph·ªèng Single Sign-On (OIDC) b·∫±ng Python Flask ‚Äî Client &amp; SSO Server</div>
  </div>
</header>

<main>
  <div class="grid">
    <div>
      <section class="card">
        <h2>T·ªïng quan</h2>
        <p class="lead">M·ªôt h·ªá th·ªëng m√¥ ph·ªèng SSO (OpenID Connect-like) ƒë∆°n gi·∫£n, g·ªìm hai ·ª©ng d·ª•ng Flask t√°ch bi·ªát: <strong>Client</strong> (Service Provider) v√† <strong>SSO Server</strong> (Identity Provider). M·ª•c ti√™u: th·ªÉ hi·ªán r√µ lu·ªìng redirect/authentication gi·ªØa ·ª©ng d·ª•ng v√† SSO.</p>

        <div class="section">
          <h3>üåü T√≠nh nƒÉng ch√≠nh</h3>
          <div class="features">
            <div class="feat">Ki·∫øn tr√∫c ph√¢n t√°ch: Client (port 5000) &amp; SSO Server (port 5001)</div>
            <div class="feat">Lu·ªìng ƒëƒÉng nh·∫≠p SSO: redirect ‚Üí login ‚Üí callback</div>
            <div class="feat">M√¥ ph·ªèng x√°c th·ª±c: nhanh, kh√¥ng c·∫ßn DB (ph·ª•c v·ª• m·ª•c ƒë√≠ch h·ªçc t·∫≠p)</div>
            <div class="feat">Giao di·ªán responsive: Homepage, Login, Register</div>
          </div>
        </div>

        <div class="section">
          <h3>üèóÔ∏è C·∫•u tr√∫c d·ª± √°n (t√≥m t·∫Øt)</h3>
          <div class="structure">
            <ul>
              <li><strong>BTL_MMANM/</strong>
                <ul>
                  <li><code>.venv/</code> ‚Äî virtual environment</li>
                  <li><strong>Client/</strong> (Service Provider - ch·∫°y <span class="kbd">127.0.0.1:5000</span>)
                    <ul>
                      <li><code>app.py</code> ‚Äî logic client</li>
                      <li><code>templates/client/</code> ‚Äî HTML pages (Homepage, MyBK, LMS)</li>
                      <li><code>static/</code> ‚Äî CSS, JS, images</li>
                    </ul>
                  </li>
                  <li><strong>SSO_Server/</strong> (Identity Provider - ch·∫°y <span class="kbd">127.0.0.1:5001</span>)
                    <ul>
                      <li><code>app.py</code> ‚Äî logic SSO (login, register, logout)</li>
                      <li><code>templates/sso_server/</code> ‚Äî login/register pages</li>
                      <li><code>static/</code> ‚Äî CSS, JS, images</li>
                    </ul>
                  </li>
                  <li><code>README.html</code> ‚Äî (file n√†y)</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>

        <div class="section">
          <h3>üõ†Ô∏è C√¥ng ngh·ªá</h3>
          <p>Python 3.x, Flask, HTML/CSS/JS. C√°c kh√°i ni·ªám li√™n quan: SSO, lu·ªìng OIDC (authorization code), sessions &amp; cookies.</p>
        </div>
      </section>

      <section class="card" style="margin-top:18px;">
        <h2>üöÄ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t &amp; ch·∫°y</h2>

        <h4>Y√™u c·∫ßu</h4>
        <ul>
          <li>Python 3.x</li>
          <li>pip (tr√¨nh qu·∫£n l√Ω g√≥i)</li>
        </ul>

        <h4>C√°c b∆∞·ªõc nhanh</h4>
        <p>M·ªü terminal v√† l√†m theo c√°c l·ªánh d∆∞·ªõi ƒë√¢y.</p>

        <h5>1) Clone repo</h5>
        <pre class="code">git clone https://github.com/hieutrance/HCMUT_SSO.git
cd BTL_MMANM</pre>

        <h5>2) T·∫°o &amp; k√≠ch ho·∫°t virtual environment</h5>
        <pre class="code"># Windows (PowerShell)
python -m venv .venv
.\.venv\Scripts\Activate.ps1

# Linux / macOS
python3 -m venv .venv
source .venv/bin/activate</pre>

        <h5>3) C√†i dependencies</h5>
        <pre class="code">pip install Flask requests Flask-CORS PyJWT cryptography</pre>

        <h5>4) Ch·∫°y hai ·ª©ng d·ª•ng (m·ªü 2 terminal)</h5>
        <pre class="code"># Terminal A: Client (Service Provider)
cd Client
python app.py
# truy c·∫≠p: http://127.0.0.1:5000

# Terminal B: SSO Server (Identity Provider)
cd SSO_Server
python app.py
# truy c·∫≠p: http://127.0.0.1:5001</pre>

        <p><strong>Ghi ch√∫:</strong> n·∫øu b·∫°n ch·∫°y tr√™n <code>localhost</code> thay v√¨ <code>127.0.0.1</code>, c√°c redirect URI ph·∫£i kh·ªõp v·ªõi c·∫•u h√¨nh trong app.</p>
      </section>

      <section class="card" style="margin-top:18px;">
        <h2>üß™ C√°ch ki·ªÉm th·ª≠ (Test)</h2>
        <ol>
          <li>M·ªü tr√¨nh duy·ªát t·ªõi <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a> (Client).</li>
          <li>Click <strong>ƒêƒÉng nh·∫≠p</strong> tr√™n MyBK ho·∫∑c LMS ‚Üí b·∫°n s·∫Ω ƒë∆∞·ª£c chuy·ªÉn sang SSO Server.</li>
          <li>T·∫°i SSO Server (http://127.0.0.1:5001/login) nh·∫≠p t√†i kho·∫£n (v√≠ d·ª• <code>admin</code>/<code>admin</code>) ‚Äî t√πy c√†i ƒë·∫∑t demo.</li>
          <li>N·∫øu login th√†nh c√¥ng, b·∫°n s·∫Ω ƒë∆∞·ª£c redirect v·ªÅ Client v√† tr·∫°ng th√°i s·∫Ω ƒë·ªïi sang ƒë√£ ƒëƒÉng nh·∫≠p.</li>
          <li>Click <strong>ƒêƒÉng xu·∫•t</strong> ƒë·ªÉ x√≥a session.</li>
        </ol>

        <p>N·∫øu redirect g·∫∑p l·ªói, ki·ªÉm tra console c·ªßa c·∫£ hai app v√† ƒë·∫£m b·∫£o URL/port kh·ªõp nhau.</p>
      </section>

      <section class="card" style="margin-top:18px;">
        <h2>üìå Ghi ch√∫ quan tr·ªçng</h2>
        <ul>
          <li>ƒê√¢y l√† <em>m√¥ ph·ªèng</em> d√πng cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p / demo lu·ªìng SSO ‚Äî kh√¥ng d√πng production secrets hay l∆∞u password d·∫°ng plaintext trong th·ª±c t·∫ø.</li>
          <li>Trong m√¥i tr∆∞·ªùng production, c·∫ßn s·ª≠ d·ª•ng HTTPS, CSRF protection, PKCE (cho public clients), storage an to√†n cho token / m·∫≠t kh·∫©u, v√† x√°c th·ª±c ch·ªØ k√Ω JWT (n·∫øu s·ª≠ d·ª•ng ID token).</li>
          <li>README n√†y gi·∫£ ƒë·ªãnh client v√† server ch·∫°y t·∫°i <code>127.0.0.1:5000</code> v√† <code>127.0.0.1:5001</code> ‚Äî n·∫øu b·∫°n ƒë·ªïi c·ªïng, h√£y c·∫≠p nh·∫≠t c√°c redirect URI trong m√£.</li>
        </ul>
      </section>
    </div>

    <aside>
      <div class="card">
        <h3>üìÇ Quick Reference</h3>
        <p><strong>Client (SP):</strong> <span class="kbd">127.0.0.1:5000</span></p>
        <p><strong>SSO Server (IdP):</strong> <span class="kbd">127.0.0.1:5001</span></p>

        <h4 style="margin-top:12px;">C√°c file ch√≠nh</h4>
        <ul>
          <li><code>Client/app.py</code></li>
          <li><code>Client/templates/client/...</code></li>
          <li><code>SSO_Server/app.py</code></li>
          <li><code>SSO_Server/templates/sso_server/...</code></li>
        </ul>

        <h4 style="margin-top:12px;">Dependencies</h4>
        <p class="lead">Flask, requests, Flask-CORS, PyJWT, cryptography</p>

        <h4 style="margin-top:12px;">M·∫πo debug</h4>
        <ul>
          <li>Ki·ªÉm tra logs terminal khi redirect/auth fail.</li>
          <li>Xem cookie/session trong tr√¨nh duy·ªát DevTools.</li>
          <li>ƒê·∫£m b·∫£o <code>redirect_uri</code> gi·ªëng h·ªát gi·ªØa client v√† SSO callback.</li>
        </ul>
      </div>

      <div class="card" style="margin-top:14px;">
        <h3>üîó T√†i li·ªáu tham kh·∫£o</h3>
        <ul>
          <li>OpenID Connect Core 1.0 (spec) ‚Äî m√¥ t·∫£ lu·ªìng &amp; token</li>
          <li>Flask Documentation ‚Äî <em>quickstart</em></li>
        </ul>
      </div>

      <div class="card" style="margin-top:14px;">
        <h3>üë• T√°c gi·∫£</h3>
        <p>[Your Name] ‚Äî D·ª± √°n m√¥ ph·ªèng SSO cho m√¥n Network Security &amp; Cryptography.</p>
        <p>N·∫øu mu·ªën, m√¨nh c√≥ th·ªÉ m·ªü r·ªông README: th√™m sequence diagram, s∆° ƒë·ªì request/response (cURL m·∫´u), ho·∫∑c code m·∫´u ƒë·ªÉ verify JWT b·∫±ng Python.</p>
      </div>
    </aside>
  </div>

  <footer>
    <div>¬© HCMUT SSO Simulation ‚Äî M√¥ ph·ªèng OIDC/SO ƒë·ªÉ h·ªçc t·∫≠p. Ch·∫°y tr√™n <strong>127.0.0.1:5000</strong> v√† <strong>127.0.0.1:5001</strong>.</div>
  </footer>
</main>

</body>
</html>
